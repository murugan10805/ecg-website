<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Exact ECG Waveform</title>

<style>
body {
    background: #f4f4f4;
    font-family: Arial, sans-serif;
    text-align: center;
}

h2 {
    margin-top: 20px;
    color: #333;
}

canvas {
    background: white;
    border: 2px solid #333;
    margin: 20px auto;
    display: block;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}
</style>
</head>

<body>

<h2>Precise ECG Waveform (P-QRS-T Complex)</h2>

<canvas id="ecgCanvas" width="1000" height="350"></canvas>

<script>
const canvas = document.getElementById("ecgCanvas");
const ctx = canvas.getContext("2d");

const centerY = 170;
const startX = 30;
const scaleX = 1.8;
const scaleY = 1.5;

// Draw professional grid
ctx.strokeStyle = "#e0e0e0";
ctx.lineWidth = 0.5;

// Vertical grid lines
for (let x = 0; x < 1000; x += 40) {
    ctx.beginPath();
    ctx.moveTo(x, 0);
    ctx.lineTo(x, 350);
    ctx.stroke();
}

// Horizontal grid lines
for (let y = 0; y <= 350; y += 20) {
    ctx.beginPath();
    ctx.moveTo(0, y);
    ctx.lineTo(1000, y);
    ctx.stroke();
}

// Draw thick baseline
ctx.strokeStyle = "#333";
ctx.lineWidth = 1.8;
ctx.beginPath();
ctx.moveTo(startX, centerY);
ctx.lineTo(970, centerY);
ctx.stroke();

// ECG Waveform - EXACT physiological proportions
ctx.strokeStyle = "#d32f2f";
ctx.lineWidth = 2.8;
ctx.lineJoin = "round";
ctx.lineCap = "round";
ctx.beginPath();
ctx.moveTo(startX, centerY);

// P wave - small rounded atrial depolarization (0.1mV, 80ms)
ctx.bezierCurveTo(
    startX + 35*scaleX, centerY - 18*scaleY,
    startX + 65*scaleX, centerY - 28*scaleY,
    startX + 95*scaleX, centerY - 3*scaleY
);

// PR segment - isoelectric line (120ms)
ctx.lineTo(startX + 165*scaleX, centerY);

// Q wave - small initial ventricular septal depolarization (-0.1 to -0.3mV, 40ms)
ctx.lineTo(startX + 190*scaleX, centerY + 22*scaleY);

// R wave - main ventricular depolarization (1.0-1.5mV, 80ms) - TALLEST peak
ctx.lineTo(startX + 225*scaleX, centerY - 95*scaleY);

// S wave - late ventricular depolarization (-0.2 to -0.5mV, 80ms)
ctx.lineTo(startX + 265*scaleX, centerY + 38*scaleY);

// ST segment - repolarization begins (80-120ms duration)
ctx.lineTo(startX + 320*scaleX, centerY + 3*scaleY);

// T wave - ventricular repolarization (0.2-0.4mV, 160ms) - ASYMMETRIC
ctx.bezierCurveTo(
    startX + 375*scaleX, centerY - 42*scaleY,
    startX + 440*scaleX, centerY - 55*scaleY,
    startX + 505*scaleX, centerY + 2*scaleY
);

// Return to baseline
ctx.lineTo(970, centerY);

ctx.stroke();

// Add time/voltage labels
ctx.fillStyle = "#666";
ctx.font = "12px Arial";
ctx.fillText("0.20s", 850, centerY + 18);
ctx.fillText("1.0mV", 15, 75);
</script>

</body>
</html>
