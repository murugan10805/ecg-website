<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ECG Waveform Improved</title>

<style>
body {
    background: #f4f4f4;
    font-family: Arial, sans-serif;
    text-align: center;
}

h2 {
    margin-top: 20px;
}

canvas {
    background: white;
    border: 2px solid #000;
    margin-top: 20px;
}
</style>
</head>

<body>

<h2>ECG Waveform (P-QRS-T Complex)</h2>

<canvas id="ecgCanvas" width="900" height="300"></canvas>

<script>
const canvas = document.getElementById("ecgCanvas");
const ctx = canvas.getContext("2d");

const baseY = 150;
const startX = 20;

// Draw thin grid for realism
ctx.strokeStyle = "#ddd";
ctx.lineWidth = 1;
for (let x = 0; x < 900; x += 50) {
    ctx.beginPath();
    ctx.moveTo(x, 0);
    ctx.lineTo(x, 300);
    ctx.stroke();
}
for (let y = 0; y < 300; y += 25) {
    ctx.beginPath();
    ctx.moveTo(0, y);
    ctx.lineTo(900, y);
    ctx.stroke();
}

// Draw baseline
ctx.strokeStyle = "black";
ctx.lineWidth = 1.5;
ctx.beginPath();
ctx.moveTo(startX, baseY);
ctx.lineTo(880, baseY);
ctx.stroke();

// ECG Waveform Path - improved for realistic shape
ctx.beginPath();
ctx.moveTo(startX, baseY);

// P wave - smoother, smaller hump
ctx.quadraticCurveTo(startX + 50, baseY - 30, startX + 100, baseY - 5);

// PR segment - flat
ctx.lineTo(startX + 160, baseY);

// Q wave - sharper small downward
ctx.lineTo(startX + 180, baseY + 20);

// R wave - tall peak
ctx.lineTo(startX + 210, baseY - 85);

// S wave - deeper notch
ctx.lineTo(startX + 245, baseY + 35);

// ST segment - slight elevation
ctx.lineTo(startX + 290, baseY - 8);

// T wave - asymmetric, gradual rise sharp fall
ctx.quadraticCurveTo(startX + 360, baseY - 45, startX + 430, baseY - 5);
ctx.lineTo(startX + 460, baseY);

// Continue baseline
ctx.lineTo(880, baseY);

ctx.strokeStyle = "red";
ctx.lineWidth = 3;
ctx.lineJoin = "round";
ctx.lineCap = "round";
ctx.stroke();
</script>

</body>
</html>
